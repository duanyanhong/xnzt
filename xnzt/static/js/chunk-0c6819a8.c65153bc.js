(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c6819a8"],{"00ea":function(e,t,s){"use strict";(function(e){var a=s("1b33");t["a"]={name:"Goodsspecs",data:function(){return{rules:{specsCode:[{required:!0,message:"请输入规格编码",trigger:"blur"}],specsName:[{required:!0,message:"请输入规格名称",trigger:"blur"}]},searchData:{specsCode:"",specsName:"",limit:20,page:1,accessToken:sessionStorage.getItem("xn_token")},pageSizes:[20,50,100],dataList:[],total:0,loading:!1,formIsshow:!1,formData:{id:"",specsCode:"",specsName:"",accessToken:sessionStorage.getItem("xn_token")},jsHeight:500,editStatus:!1,titleContent:"管理商品规格"}},mounted:function(){this.loadData()},activated:function(){var e=this;this.$nextTick((function(){e.$refs.plTable.doLayout()}))},methods:{loadData:function(){var t=this;this.loading=!0,Object(a["d"])(this.searchData).then((function(s){s&&(t.loading=!1,t.dataList=s.msgData.list.items,t.total=s.msgData.list.total,t.jsHeight=window.innerHeight-e(".head-container").outerHeight()-e(".crud-opts").outerHeight()-180)}))},search:function(){this.page=1,this.loadData()},addShow:function(){for(var e in this.editStatus=!1,void 0!==this.$refs["formData"]&&this.$refs["formData"].resetFields(),this.formData)"accessToken"!=e&&(this.formData[e]="");this.formIsshow=!0},addForm:function(){var e=this;this.$refs["formData"].validate((function(t){if(!t)return!1;var s=e;s.editStatus?Object(a["c"])(s.formData).then((function(e){e&&(s.formIsshow=!1,s.$modal.notifySuccess(e.errMsg),s.loadData())})):Object(a["a"])(s.formData).then((function(e){e&&(s.formIsshow=!1,s.$modal.notifySuccess(e.errMsg),s.loadData())}))}))},editStaff:function(e){for(var t in void 0!==this.$refs["formData"]&&this.$refs["formData"].resetFields(),this.formData)"accessToken"!=t&&(this.formData[t]=e[t]);this.editStatus=!0,this.formIsshow=!0},editDisable:function(e){var t=this;this.$refs["popover-".concat(e.$index)].doClose();var s={id:e.row.id,accessToken:sessionStorage.getItem("xn_token")};Object(a["b"])(s).then((function(e){e&&(t.$modal.notifySuccess(e.errMsg),t.loadData())}))}}}}).call(this,s("1157"))},"1b33":function(e,t,s){"use strict";s.d(t,"d",(function(){return o})),s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return n}));var a=s("b775");function o(e){return Object(a["a"])({url:"xnkj/goods/goodsspecs/goodsspecsList",method:"post",data:e})}function i(e){return Object(a["a"])({url:"xnkj/goods/goodsspecs/editGoodsspecs",method:"post",data:e})}function r(e){return Object(a["a"])({url:"xnkj/goods/goodsspecs/addGoodsspecs",method:"post",data:e})}function n(e){return Object(a["a"])({url:"xnkj/goods/goodsspecs/disableGoodsspecs",method:"post",data:e})}},bcbb:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-row",{attrs:{gutter:20}},[s("el-col",[s("div",{staticClass:"head-container"},[s("div",[s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",placeholder:"输入规格编码搜索"},model:{value:e.searchData.specsCode,callback:function(t){e.$set(e.searchData,"specsCode",t)},expression:"searchData.specsCode"}}),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",placeholder:"输入规格名称搜索"},model:{value:e.searchData.specsName,callback:function(t){e.$set(e.searchData,"specsName",t)},expression:"searchData.specsName"}}),s("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)]),s("div",{staticClass:"crud-opts"},[s("span",{staticClass:"crud-opts-left"},[e._t("left"),s("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodsspecs:Add"],expression:"['Goods:Goodsspecs:Add']"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus",plain:""},on:{click:e.addShow}},[e._v(" 新增 ")]),e._t("right")],2)]),s("u-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"plTable",attrs:{data:e.dataList,height:e.jsHeight,"use-virtual":"","row-height":50,stripe:"","header-cell-style":{background:"#f8f8f9",color:"#515a6e",fontSize:"13px",height:"45px",border:"none"},"cell-style":{border:"none"}}},[s("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"specsCode",label:"规格编码"}}),s("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"specsName",label:"规格名称"}}),s("u-table-column",{attrs:{label:"禁用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["是"==t.row.disable?s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.disable))]):"否"==t.row.disable?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.disable))]):e._e()]}}])}),s("u-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodsspecs:Edit"],expression:"['Goods:Goodsspecs:Edit']"}],staticStyle:{width:"50px"},attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.editStaff(t.row)}}},[e._v("修改")]),"否"==t.row.disable?s("el-popover",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodsspecs:Disable"],expression:"['Goods:Goodsspecs:Disable']"}],ref:"popover-"+t.$index,attrs:{placement:"top",width:"200"}},[s("p",{staticStyle:{"line-height":"40px"}},[s("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255,153,0)"}}),e._v(" 确定禁用吗？")]),s("div",{staticStyle:{"text-align":"right",margin:"0"}},[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){e.$refs["popover-"+t.$index].doClose()}}},[e._v("取消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return e.editDisable(t)}}},[e._v("确定")])],1),s("el-button",{staticStyle:{width:"50px"},attrs:{slot:"reference",type:"text",icon:"el-icon-lock",size:"mini"},slot:"reference"},[e._v("禁用")])],1):e._e(),"是"==t.row.disable?s("el-popover",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodsspecs:Disable"],expression:"['Goods:Goodsspecs:Disable']"}],ref:"popover-"+t.$index,attrs:{placement:"top",width:"200"}},[s("p",{staticStyle:{"line-height":"40px"}},[s("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255,153,0)"}}),e._v(" 确定启用吗？")]),s("div",{staticStyle:{"text-align":"right",margin:"0"}},[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){e.$refs["popover-"+t.$index].doClose()}}},[e._v("取消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return e.editDisable(t)}}},[e._v("确定")])],1),s("el-button",{staticClass:"el-button--success",staticStyle:{width:"50px"},attrs:{slot:"reference",type:"text",icon:"el-icon-unlock",size:"mini"},slot:"reference"},[e._v("启用")])],1):e._e()]}}])})],1),s("pagination",{attrs:{limit:e.searchData.limit,page:e.searchData.page,total:e.total,"page-sizes":e.pageSizes},on:{"update:limit":function(t){return e.$set(e.searchData,"limit",t)},"update:page":function(t){return e.$set(e.searchData,"page",t)},"update:pageSizes":function(t){e.pageSizes=t},"update:page-sizes":function(t){e.pageSizes=t},pagination:e.loadData}})],1)],1),s("el-dialog",{attrs:{"append-to-body":"","close-on-click-modal":!1,visible:e.formIsshow,title:e.titleContent,width:"500px"},on:{"update:visible":function(t){e.formIsshow=t}}},[s("el-form",{ref:"formData",attrs:{inline:!0,model:e.formData,rules:e.rules,size:"small","label-width":"120px"}},[s("el-form-item",{attrs:{label:"规格编码",prop:"specsCode"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入规格编码"},model:{value:e.formData.specsCode,callback:function(t){e.$set(e.formData,"specsCode",t)},expression:"formData.specsCode"}})],1),s("el-form-item",{attrs:{label:"规格名称",prop:"specsName"}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入规格名称"},model:{value:e.formData.specsName,callback:function(t){e.$set(e.formData,"specsName",t)},expression:"formData.specsName"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"text"},on:{click:function(t){e.formIsshow=!1}}},[e._v("取消")]),s("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.addForm,expression:"addForm"}],attrs:{type:"primary"}},[e._v("确认")])],1)],1)],1)},o=[],i=s("00ea"),r=i["a"],n=s("2877"),l=Object(n["a"])(r,a,o,!1,null,null,null);t["default"]=l.exports}}]);