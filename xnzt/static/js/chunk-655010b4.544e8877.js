(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-655010b4"],{"0eb6":function(t,e,o){"use strict";var a=o("23e7"),l=o("7c37"),r=o("d066"),i=o("d039"),s=o("7c73"),n=o("5c6c"),c=o("9bf2").f,u=o("cb2d"),d=o("edd0"),h=o("1a2d"),f=o("19aa"),m=o("825a"),p=o("aa1f"),b=o("e391"),w=o("cf98"),D=o("0d26"),g=o("69f3"),v=o("83ab"),k=o("c430"),y="DOMException",I="DATA_CLONE_ERR",x=r("Error"),S=r(y)||function(){try{var t=r("MessageChannel")||l("worker_threads").MessageChannel;(new t).port1.postMessage(new WeakMap)}catch(e){if(e.name==I&&25==e.code)return e.constructor}}(),E=S&&S.prototype,C=x.prototype,_=g.set,R=g.getterFor(y),N="stack"in x(y),A=function(t){return h(w,t)&&w[t].m?w[t].c:0},O=function(){f(this,T);var t=arguments.length,e=b(t<1?void 0:arguments[0]),o=b(t<2?void 0:arguments[1],"Error"),a=A(o);if(_(this,{type:y,name:o,message:e,code:a}),v||(this.name=o,this.message=e,this.code=a),N){var l=x(e);l.name=y,c(this,"stack",n(1,D(l.stack,1)))}},T=O.prototype=s(C),L=function(t){return{enumerable:!0,configurable:!0,get:t}},W=function(t){return L((function(){return R(this)[t]}))};v&&(d(T,"code",W("code")),d(T,"message",W("message")),d(T,"name",W("name"))),c(T,"constructor",n(1,O));var $=i((function(){return!(new S instanceof x)})),j=$||i((function(){return C.toString!==p||"2: 1"!==String(new S(1,2))})),M=$||i((function(){return 25!==new S(1,"DataCloneError").code})),F=$||25!==S[I]||25!==E[I],Q=k?j||M||F:$;a({global:!0,constructor:!0,forced:Q},{DOMException:Q?O:S});var U=r(y),z=U.prototype;for(var V in j&&(k||S===U)&&u(z,"toString",p),M&&v&&S===U&&d(z,"code",L((function(){return A(m(this).name)}))),w)if(h(w,V)){var q=w[V],P=q.s,H=n(6,q.c);h(U,P)||c(U,P,H),h(z,P)||c(z,P,H)}},3122:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{height:"650px","max-height":"650px"}},[o("div",[o("div",{staticStyle:{"font-weight":"bold","font-size":"15pt",height:"40px","line-height":"40px"}},[t._v(" 基础信息 ")]),o("div",{staticStyle:{"border-bottom":"1px solid #ccc","margin-bottom":"10px"}}),o("el-form",{ref:"formData",attrs:{inline:!0,size:"small","label-width":"110px"}},[o("el-form-item",{staticClass:"is-required",attrs:{label:"货主"}},[o("el-select",{staticStyle:{width:"210px"},attrs:{disabled:t.disable,filterable:"",placeholder:"请选择货主"},model:{value:t.formData.ownerId,callback:function(e){t.$set(t.formData,"ownerId",e)},expression:"formData.ownerId"}},t._l(t.owners,(function(t){return o("el-option",{key:t.ownerId,attrs:{label:t.ownerName,value:t.ownerId}})})),1)],1),o("el-form-item",{staticClass:"is-required",attrs:{label:"调拨类型"}},[o("el-select",{staticStyle:{width:"210px"},attrs:{disabled:t.disable,filterable:"",placeholder:"请选择调拨类型"},model:{value:t.formData.allocationType,callback:function(e){t.$set(t.formData,"allocationType",e)},expression:"formData.allocationType"}},[o("el-option",{attrs:{label:"仓间调拨",value:"仓间调拨"}}),o("el-option",{attrs:{label:"仓内调拨",value:"仓内调拨"}}),o("el-option",{attrs:{label:"仓店调拨",value:"仓店调拨"}})],1)],1),o("el-form-item",{staticClass:"is-required",attrs:{label:"原逻辑仓库"}},[o("el-select",{staticStyle:{width:"210px"},attrs:{disabled:t.disable,filterable:"",placeholder:"请选择原逻辑仓库"},model:{value:t.formData.fromLogicwarehouseId,callback:function(e){t.$set(t.formData,"fromLogicwarehouseId",e)},expression:"formData.fromLogicwarehouseId"}},t._l(t.logicwarehouses,(function(t){return o("el-option",{key:t.logicwarehouseId,attrs:{label:t.logicwarehouseName,value:t.logicwarehouseId}})})),1)],1),o("el-form-item",{staticClass:"is-required",attrs:{label:"目标逻辑仓库"}},[o("el-select",{staticStyle:{width:"210px"},attrs:{disabled:t.disable,filterable:"",placeholder:"请选择目标逻辑仓库"},model:{value:t.formData.toLogicwarehouseId,callback:function(e){t.$set(t.formData,"toLogicwarehouseId",e)},expression:"formData.toLogicwarehouseId"}},t._l(t.logicwarehouses,(function(t){return o("el-option",{key:t.logicwarehouseId,attrs:{label:t.logicwarehouseName,value:t.logicwarehouseId}})})),1)],1),o("el-form-item",{attrs:{label:"来源订单号"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{placeholder:"请输入来源订单号",disabled:t.disable},model:{value:t.formData.sourceOrderCode,callback:function(e){t.$set(t.formData,"sourceOrderCode",e)},expression:"formData.sourceOrderCode"}})],1),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{placeholder:"请输入备注",disabled:t.disable},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),o("el-form-item",[""==t.formData.id?o("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.addAllocation,expression:"addAllocation"}],staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"mini",plain:""}},[t._v("保存")]):t._e()],1)],1)],1),o("div",[o("div",{staticStyle:{"font-weight":"bold","font-size":"15pt",height:"40px","line-height":"40px"}},[t._v(" 统计信息 ")]),o("div",{staticStyle:{"border-bottom":"1px solid #ccc","margin-bottom":"10px"}}),o("el-form",{ref:"formData",attrs:{inline:!0,size:"small","label-width":"110px"}},[o("el-form-item",{attrs:{label:"总行数"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{disabled:""},model:{value:t.total.count,callback:function(e){t.$set(t.total,"count",e)},expression:"total.count"}})],1),o("el-form-item",{attrs:{label:"总数量"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{disabled:""},model:{value:t.total.sum,callback:function(e){t.$set(t.total,"sum",e)},expression:"total.sum"}})],1),o("el-form-item",{attrs:{label:"总重量"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{disabled:""},model:{value:t.total.weight,callback:function(e){t.$set(t.total,"weight",e)},expression:"total.weight"}})],1),o("el-form-item",{attrs:{label:"总体积"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{disabled:""},model:{value:t.total.volume,callback:function(e){t.$set(t.total,"volume",e)},expression:"total.volume"}})],1)],1),o("div",{staticStyle:{"margin-bottom":"10px"}},[o("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus",plain:""},on:{click:t.addDetailInfoShow}},[t._v(" 新增明细 ")]),o("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"danger",icon:"el-icon-delete",plain:""},on:{click:t.delDetailInfo}},[t._v(" 删除明细 ")])],1),o("el-table",{staticStyle:{width:"100%","overflow-y":"auto"},attrs:{data:t.addDetailInfo,border:"",height:"300","row-height":10},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuCode",label:"商品编码"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuName",label:"商品名称"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuState",label:"库存状态"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"planQty",label:"请求数量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"stockUnit",label:"单位"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"totalWeight",label:"总重量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"totalVolume",label:"总体积"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"lotNo",label:"批号"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"batchNo",label:"批次"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"productDate",label:"生产日期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"expireDate",label:"失效日期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelfLife",label:"保质期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelfLifeUnit",label:"保质期单位"}})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-top":"30px"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.addDetailForm,expression:"addDetailForm"}],attrs:{type:"primary"}},[t._v("保存")]),o("el-button",{attrs:{type:"primary"},on:{click:t.hideForm}},[t._v("取消")])],1),o("InputDialog",{attrs:{visible:t.searchIsshow,"search-content":t.searchContent,title:t.titlesContent},on:{"update:visible":function(e){t.searchIsshow=e},"update:searchContent":function(e){t.searchContent=e},"update:search-content":function(e){t.searchContent=e},"update:title":function(e){t.titlesContent=e},confirmed:t.addSearchForm}}),o("el-dialog",{staticClass:"custom-dialog",attrs:{"append-to-body":"","close-on-click-modal":!1,top:"8vh",visible:t.isFormDetailShow,center:"",title:"批量新增",width:"80%"},on:{"update:visible":function(e){t.isFormDetailShow=e}}},[o("div",{staticStyle:{height:"650px","max-height":"650px"}},[o("div",{staticClass:"head-container"},[o("div",{staticClass:"filter-item"},[o("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"输入商品编码",clearable:""},model:{value:t.searchDetailData.skuCode,callback:function(e){t.$set(t.searchDetailData,"skuCode",e)},expression:"searchDetailData.skuCode"}},[o("el-button",{attrs:{slot:"suffix",type:"text"},on:{click:function(e){return t.searchShow("skuCode","输入商品编码")}},slot:"suffix"},[o("svg-icon",{staticStyle:{background:"#fff","vertical-align":"0"},attrs:{"icon-class":"plus"}})],1)],1)],1),o("div",{staticClass:"filter-item"},[o("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"输入商品条码",clearable:""},model:{value:t.searchDetailData.barCode,callback:function(e){t.$set(t.searchDetailData,"barCode",e)},expression:"searchDetailData.barCode"}},[o("el-button",{attrs:{slot:"suffix",type:"text"},on:{click:function(e){return t.searchShow("barCode","输入商品条码")}},slot:"suffix"},[o("svg-icon",{staticStyle:{background:"#fff","vertical-align":"0"},attrs:{"icon-class":"plus"}})],1)],1)],1),o("div",{staticClass:"filter-item"},[o("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"输入商品名称",clearable:""},model:{value:t.searchDetailData.skuName,callback:function(e){t.$set(t.searchDetailData,"skuName",e)},expression:"searchDetailData.skuName"}},[o("el-button",{attrs:{slot:"suffix",type:"text"},on:{click:function(e){return t.searchShow("skuName","输入商品名称")}},slot:"suffix"},[o("svg-icon",{staticStyle:{background:"#fff","vertical-align":"0"},attrs:{"icon-class":"plus"}})],1)],1)],1),o("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:t.searchDetail}},[t._v("搜索")])],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingStock,expression:"loadingStock"}],staticStyle:{width:"100%","overflow-y":"auto"},attrs:{data:t.stockDataList,border:"",height:"300","row-height":10}},[o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuCode",label:"商品编码"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuName",label:"商品名称"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"usableQty",label:"可用数量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"inWarehouseQty",label:"在库数量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"assignQty",label:"分配数量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"lockedQty",label:"锁定数量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"inTransitQty",label:"在途数量"}}),o("el-table-column",{attrs:{align:"center",width:"160",label:"请求数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.row.planQty,callback:function(o){t.$set(e.row,"planQty",o)},expression:"scope.row.planQty"}})]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuState",label:"库存状态"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"lotNo",label:"批号"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"batchNo",label:"批次"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"productDate",label:"生产日期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"expireDate",label:"失效日期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelfLife",label:"保质期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelfLifeUnit",label:"保质期单位"}}),o("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-plus-outline"},on:{click:function(o){return t.addStock(e.row)}}},[t._v("添加")])]}}])})],1),o("div",[t._v(" 已选明细 ")]),o("el-table",{staticStyle:{width:"100%","overflow-y":"auto"},attrs:{data:t.selectData,border:"",height:"300","row-height":10}},[o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuCode",label:"商品编码"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuName",label:"商品名称"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"skuState",label:"库存状态"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"planQty",label:"请求数量"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"stockUnit",label:"单位"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"lotNo",label:"批号"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"batchNo",label:"批次"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"productDate",label:"生产日期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"expireDate",label:"失效日期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelfLife",label:"保质期"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelfLifeUnit",label:"保质期单位"}}),o("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-remove-outline"},on:{click:function(o){return t.addDel(e.$index)}}},[t._v("移除")])]}}])})],1)],1),o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.addStockForm,expression:"addStockForm"}],attrs:{type:"primary"}},[t._v("确认")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isFormDetailShow=!1}}},[t._v("取消")])],1)])],1)},l=[],r=(o("4de4"),o("c740"),o("14d9"),o("a434"),o("e9c4"),o("b680"),o("b64b"),o("d3b7"),o("ac1f"),o("5319"),o("313d"),o("0eb6"),o("b7ef"),o("8bd4"),o("b20f")),i={props:{addDetailInfo:{type:Array},owners:{type:Array},logicwarehouses:{type:Array},formIsshow:{type:Boolean},loadData:{type:Function}},data:function(){return{total:{count:"",sum:"",weight:"",volume:""},ids:[],isFormDetailShow:!1,searchIsshow:!1,searchContent:"",titlesContent:"",searchType:"",searchDetailData:{skuCode:"",barCode:"",skuName:"",accessToken:sessionStorage.getItem("xn_token"),ownerId:"",fromLogicwarehouseId:""},formData:{id:"",sourceOrderCode:"",fromLogicwarehouseId:"",toLogicwarehouseId:"",ownerId:"",allocationType:"",remark:"",fromWarehouseId:"",toWarehouseId:"",accessToken:sessionStorage.getItem("xn_token")},stockDataList:[],selectData:[],loadingStock:!1,disable:!1}},watch:{formIsshow:{handler:function(t){for(var e in this.formData)"accessToken"!=e&&(this.formData[e]="");this.disable=!1,this.getTotal()}},addDetailInfo:{handler:function(t){this.getTotal()}}},mounted:function(){this.getTotal()},activated:function(){console.log(1)},methods:{handleSelectionChange:function(t){this.ids=[];for(var e=0;e<t.length;e++)this.ids.push(t[e])},getTotal:function(){this.total.count=this.addDetailInfo.length,this.total.sum=0,this.total.weight=0,this.total.volume=0;for(var t=0;t<this.addDetailInfo.length;t++)this.total.sum=this.total.sum+this.addDetailInfo[t].planQty,this.total.weight=this.total.weight+this.addDetailInfo[t].totalWeight,this.total.volume=this.total.volume+this.addDetailInfo[t].totalVolume;this.total.weight=this.total.weight.toFixed(2),this.total.volume=this.total.volume.toFixed(2)},delDetailInfo:function(){var t=this;if(""!=this.formData.id)if(this.ids.length<1)this.$modal.notifyWarning("请选择要操作数据！");else{var e=this.addDetailInfo.filter((function(e){return!t.ids.some((function(t){return e.uniqueId===t.uniqueId}))}));this.$emit("update:addDetailInfo",e)}else this.$modal.notifyWarning("请先保存基础信息！")},addDetailInfoShow:function(){if(""!=this.formData.id){for(var t in this.searchDetailData)"accessToken"!=t&&"ownerId"!=t&&"fromLogicwarehouseId"!=t&&(this.searchDetailData[t]="");this.isFormDetailShow=!0,this.stockDataList=[],this.selectData=[]}else this.$modal.notifyWarning("请先保存基础信息！")},searchShow:function(t,e){this.searchContent=this.searchDetailData[t].replace(/,/g,"\n"),this.searchType=t,this.titlesContent=e,this.searchIsshow=!0},addSearchForm:function(){this.searchDetailData[this.searchType]=this.searchContent.replace(/\n/g,",").replace("，",","),this.searchIsshow=!1},searchDetail:function(){var t=this;this.loadingStock=!0,Object(r["g"])(this.searchDetailData).then((function(e){t.stockDataList=e.msgData.items,t.loadingStock=!1}))},addStock:function(t){if(void 0==t.planQty||t.planQty<1)this.$modal.notifyWarning("请选择录入请求数量！");else{var e=this.selectData.findIndex((function(e){return e.skuCode===t.skuCode&&e.skuState===t.skuState&&e.batchNo===t.batchNo}));-1==e?this.selectData.push(JSON.parse(JSON.stringify(t))):this.selectData[e].planQty+=t.planQty}},addDel:function(t){this.selectData.splice(t,1)},addStockForm:function(){var t=this;if(this.selectData.length<1)this.$modal.notifyWarning("请添加明细！");else{for(var e,o,a,l,r,i,s=function(s){e=t.selectData[s].skuCode+t.selectData[s].skuState+t.selectData[s].batchNo,o=btoa(unescape(encodeURIComponent(e))),a=t.addDetailInfo.findIndex((function(e){return e.skuCode===t.selectData[s].skuCode&&e.skuState===t.selectData[s].skuState&&e.batchNo===t.selectData[s].batchNo})),l=t.selectData[s].planQty*t.selectData[s].singleVolume,r=t.selectData[s].planQty*t.selectData[s].singleGrossWeight,-1==a?(t.total.count+=1,i={uniqueId:o,logicwarehouseId:t.searchDetailData.fromLogicwarehouseId,barCode:t.selectData[s].barCode,skuCode:t.selectData[s].skuCode,skuName:t.selectData[s].skuName,skuState:t.selectData[s].skuState,planQty:t.selectData[s].planQty,stockUnit:t.selectData[s].stockUnit,totalWeight:r,totalVolume:l,lotNo:t.selectData[s].lotNo,batchNo:t.selectData[s].batchNo,productDate:t.selectData[s].productDate,expireDate:t.selectData[s].expireDate,shelfLife:t.selectData[s].shelfLife,shelfLifeUnit:t.selectData[s].shelfLifeUnit},t.addDetailInfo.push(i)):(t.addDetailInfo[a].planQty+=t.selectData[s].planQty,t.addDetailInfo[a].totalVolume+=l,t.addDetailInfo[a].totalWeight+=r)},n=0;n<this.selectData.length;n++)s(n);this.getTotal(),this.isFormDetailShow=!1}},addDetailForm:function(){var t=this;if(""!=this.formData.id)if(this.addDetailInfo.length<1)this.$modal.notifyWarning("请先添加明细！");else{var e={id:this.formData.id,fromWarehouseId:this.formData.fromWarehouseId,toWarehouseId:this.formData.toWarehouseId,details:this.addDetailInfo,accessToken:sessionStorage.getItem("xn_token")};Object(r["b"])(e).then((function(e){e&&(t.$modal.notifySuccess(e.errMsg),t.$emit("update:formIsshow",!1),t.loadData())}))}else this.$modal.notifyWarning("请先保存基础信息！")},hideForm:function(){this.$emit("update:formIsshow",!1)},addAllocation:function(){var t=this;if(""!=this.formData.ownerId)if(""!=this.formData.allocationType)if(""!=this.formData.fromLogicwarehouseId)if(""!=this.formData.toLogicwarehouseId){for(var e=0;e<this.logicwarehouses.length;e++)this.logicwarehouses[e].logicwarehouseId==this.formData.fromLogicwarehouseId&&(this.formData.fromWarehouseId=this.logicwarehouses[e].warehouseId),this.logicwarehouses[e].logicwarehouseId==this.formData.toLogicwarehouseId&&(this.formData.toWarehouseId=this.logicwarehouses[e].warehouseId);if("仓间调拨"!=this.formData.allocationType||this.formData.fromWarehouseId!=this.formData.toWarehouseId){if("仓内调拨"==this.formData.allocationType){if(this.formData.fromWarehouseId!=this.formData.toWarehouseId)return void this.$modal.notifyWarning("仓内调拨必须是同一物理仓！");if(this.formData.fromLogicwarehouseId==this.formData.toLogicwarehouseId)return void this.$modal.notifyWarning("逻辑仓库不能相同！")}Object(r["a"])(this.formData).then((function(e){e&&(t.disable=!0,t.loadData(),t.$modal.notifySuccess(e.errMsg),t.formData.id=e.msgData.allocationId,t.searchDetailData.ownerId=t.formData.ownerId,t.searchDetailData.fromLogicwarehouseId=t.formData.fromLogicwarehouseId)}))}else this.$modal.notifyWarning("仓间调拨不能选择同一物理仓！")}else this.$modal.notifyWarning("请选择目标逻辑仓库！");else this.$modal.notifyWarning("请选择原逻辑仓库！");else this.$modal.notifyWarning("请选择调拨类型！");else this.$modal.notifyWarning("请选择货主！")}}},s=i,n=(o("9ddc"),o("2877")),c=Object(n["a"])(s,a,l,!1,null,null,null);e["default"]=c.exports},"313d":function(t,e,o){var a=o("23e7"),l=o("d066"),r=o("e330"),i=o("d039"),s=o("577e"),n=o("d6d6"),c=o("b917").itoc,u=l("btoa"),d=r("".charAt),h=r("".charCodeAt),f=!!u&&!i((function(){u()})),m=!!u&&i((function(){return"bnVsbA=="!==u(null)})),p=!!u&&1!==u.length;a({global:!0,enumerable:!0,forced:f||m||p},{btoa:function(t){if(n(arguments.length,1),f||m||p)return u(s(t));var e,o,a=s(t),r="",i=0,b=c;while(d(a,i)||(b="=",i%1)){if(o=h(a,i+=3/4),o>255)throw new(l("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");e=e<<8|o,r+=d(b,63&e>>8-i%1*8)}return r}})},"67cb":function(t,e,o){},"7c37":function(t,e,o){var a=o("605d");t.exports=function(t){try{if(a)return Function('return require("'+t+'")')()}catch(e){}}},"8bd4":function(t,e,o){var a=o("d066"),l=o("d44e"),r="DOMException";l(a(r),r)},"9ddc":function(t,e,o){"use strict";o("67cb")},aa1f:function(t,e,o){"use strict";var a=o("83ab"),l=o("d039"),r=o("825a"),i=o("7c73"),s=o("e391"),n=Error.prototype.toString,c=l((function(){if(a){var t=i(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==n.call(t))return!0}return"2: 1"!==n.call({message:1,name:2})||"Error"!==n.call({})}));t.exports=c?function(){var t=r(this),e=s(t.name,"Error"),o=s(t.message);return e?o?e+": "+o:e:o}:n},b20f:function(t,e,o){"use strict";o.d(e,"f",(function(){return l})),o.d(e,"a",(function(){return r})),o.d(e,"e",(function(){return i})),o.d(e,"g",(function(){return s})),o.d(e,"b",(function(){return n})),o.d(e,"h",(function(){return c})),o.d(e,"d",(function(){return u})),o.d(e,"c",(function(){return d})),o.d(e,"j",(function(){return h})),o.d(e,"i",(function(){return f})),o.d(e,"k",(function(){return m})),o.d(e,"l",(function(){return p}));var a=o("b775");function l(t){return Object(a["a"])({url:"xnkj/stock/allocation/allocationList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"xnkj/stock/allocation/addAllocation",method:"post",data:t})}function i(t){return Object(a["a"])({url:"xnkj/stock/allocation/getAllocationDetail",method:"post",data:t})}function s(t){return Object(a["a"])({url:"xnkj/stock/allocation/getStock",method:"post",data:t})}function n(t){return Object(a["a"])({url:"xnkj/stock/allocation/addAllocationDetail",method:"post",data:t})}function c(t){return Object(a["a"])({url:"xnkj/stock/allocation/importAllocation",method:"post",data:t})}function u(t){return Object(a["a"])({url:"xnkj/stock/allocation/exportAllocation",method:"post",data:t})}function d(t){return Object(a["a"])({url:"xnkj/stock/allocation/examineAllocation",method:"post",data:t})}function h(t){return Object(a["a"])({url:"xnkj/stock/allocation/removeAllocation",method:"post",data:t})}function f(t){return Object(a["a"])({url:"xnkj/stock/allocation/interceptAllocation",method:"post",data:t})}function m(t){return Object(a["a"])({url:"xnkj/stock/allocation/removeAllocationList",method:"post",data:t})}function p(t){return Object(a["a"])({url:"xnkj/stock/allocation/restoreAllocation",method:"post",data:t})}},b7ef:function(t,e,o){"use strict";var a=o("23e7"),l=o("da84"),r=o("d066"),i=o("5c6c"),s=o("9bf2").f,n=o("1a2d"),c=o("19aa"),u=o("7156"),d=o("e391"),h=o("cf98"),f=o("0d26"),m=o("83ab"),p=o("c430"),b="DOMException",w=r("Error"),D=r(b),g=function(){c(this,v);var t=arguments.length,e=d(t<1?void 0:arguments[0]),o=d(t<2?void 0:arguments[1],"Error"),a=new D(e,o),l=w(e);return l.name=b,s(a,"stack",i(1,f(l.stack,1))),u(a,this,g),a},v=g.prototype=D.prototype,k="stack"in w(b),y="stack"in new D(1,2),I=D&&m&&Object.getOwnPropertyDescriptor(l,b),x=!!I&&!(I.writable&&I.configurable),S=k&&!x&&!y;a({global:!0,constructor:!0,forced:p||S},{DOMException:S?g:D});var E=r(b),C=E.prototype;if(C.constructor!==E)for(var _ in p||s(C,"constructor",i(1,E)),h)if(n(h,_)){var R=h[_],N=R.s;n(E,N)||s(E,N,i(6,R.c))}},b917:function(t,e){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a={},l=0;l<66;l++)a[o.charAt(l)]=l;t.exports={itoc:o,ctoi:a}},cf98:function(t,e){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}}}]);