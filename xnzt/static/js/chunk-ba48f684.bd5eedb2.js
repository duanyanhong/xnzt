(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba48f684"],{"6c39":function(t,e,a){},7888:function(t,e,a){"use strict";a("6c39")},"8a52":function(t,e,a){"use strict";a.d(e,"f",(function(){return l})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"h",(function(){return n})),a.d(e,"d",(function(){return m})),a.d(e,"e",(function(){return c})),a.d(e,"g",(function(){return d}));var o=a("b775");function l(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/goodssuiteList",method:"post",data:t})}function i(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/editGoodssuite",method:"post",data:t})}function s(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/addGoodssuite",method:"post",data:t})}function r(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/disableGoodssuite",method:"post",data:t})}function n(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/importGoodssuite",headers:{"Content-Type":"multipart/form-data"},method:"post",data:t})}function m(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/exportGoodssuite",method:"post",data:t})}function c(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/getGoods",method:"post",data:t})}function d(t){return Object(o["a"])({url:"xnkj/goods/goodssuite/getSuitedetail",method:"post",data:t})}},df60:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container order-info-padding"},[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("div",{staticClass:"head-container"},[a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",placeholder:"输入商品编码搜索"},model:{value:t.searchData.itemCode,callback:function(e){t.$set(t.searchData,"itemCode",e)},expression:"searchData.itemCode"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",placeholder:"输入商品名称搜索"},model:{value:t.searchData.itemName,callback:function(e){t.$set(t.searchData,"itemName",e)},expression:"searchData.itemName"}}),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1)]),a("div",{staticClass:"crud-opts"},[a("span",{staticClass:"crud-opts-left"},[t._t("left"),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodssuite:Add"],expression:"['Goods:Goodssuite:Add']"}],staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus",plain:""},on:{click:t.addShow}},[t._v(" 新增 ")]),t._t("right")],2),a("span",{staticClass:"crud-opts-left"},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodssuite:Export"],expression:"['Goods:Goodssuite:Export']"}],staticClass:"filter-item",attrs:{size:"mini",type:"warning",icon:"el-icon-download",plain:""},on:{click:t.downMyOrder}},[t._v("导出")])],1)]),a("u-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"plTable",attrs:{data:t.dataList,height:t.jsHeight,"use-virtual":"","row-height":50,stripe:"","header-cell-style":{background:"#f8f8f9",color:"#515a6e",fontSize:"13px",height:"45px",border:"none"},"cell-style":{border:"none"}}},[a("u-table-column",{attrs:{label:"货品标记",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.marksKey,(function(e,o){return a("el-tag",{key:o,staticStyle:{"margin-left":"5px"},attrs:{color:e.markColor}},[a("span",{staticStyle:{color:"#fff"}},[t._v(t._s(e.markName))])])}))}}])}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"ownerName",label:"货主"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"logicwarehouseName",label:"逻辑仓库"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"familyName",label:"商品分类"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"specsName",label:"规格"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"itemCode",label:"商品编码"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"itemId",label:"商品编号"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"goodsCode",label:"货号"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"itemName",label:"商品名称"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shortName",label:"商品简称"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"englishName",label:"英文名"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"barCode",label:"条形码"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"itemCount",label:"品类数"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"itemQtyCount",label:"子件数"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"stockUnit",label:"计量单位"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"length",label:"长(厘米)"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"width",label:"宽(厘米)"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"height",label:"高(厘米)"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"volume",label:"体积(CM³)"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"grossWeight",width:"100",label:"毛重(千克)"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"netWeight",width:"100",label:"净重(千克)"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"title",label:"商品标题"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"className",label:"商品类别"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"itemType",label:"商品类型"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"suiteType",label:"组套类型"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"isShelfLifeMgmt",width:"100",label:"效期管理"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"isValid",label:"是否有效"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"isSku",label:"是否sku"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"explains",label:"货品说明"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"allowSplit",label:"允许拆分"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"allowSite",label:"允许店配"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"allowWarehouse",label:"允许仓配"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"createTime",label:"创建时间"}}),a("u-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"updateTime",label:"更新时间"}}),a("u-table-column",{attrs:{label:"禁用",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["是"==e.row.disable?a("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.disable))]):"否"==e.row.disable?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.disable))]):t._e()]}}])}),a("u-table-column",{attrs:{label:"操作",width:"205",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodssuite:Detail"],expression:"['Goods:Goodssuite:Detail']"}],staticStyle:{width:"60px"},attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return t.getSuitedetail(e.row)}}},[t._v("组合明细")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodssuite:Edit"],expression:"['Goods:Goodssuite:Edit']"}],staticStyle:{width:"50px"},attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.editStaff(e.row)}}},[t._v("修改")]),"否"==e.row.disable?a("el-popover",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodssuite:Disable"],expression:"['Goods:Goodssuite:Disable']"}],ref:"popover-"+e.$index,attrs:{placement:"top",width:"200"}},[a("p",{staticStyle:{"line-height":"40px"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255,153,0)"}}),t._v(" 确定禁用吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.$refs["popover-"+e.$index].doClose()}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editDisable(e)}}},[t._v("确定")])],1),a("el-button",{staticStyle:{width:"50px"},attrs:{slot:"reference",type:"text",icon:"el-icon-lock",size:"mini"},slot:"reference"},[t._v("禁用")])],1):t._e(),"是"==e.row.disable?a("el-popover",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["Goods:Goodssuite:Disable"],expression:"['Goods:Goodssuite:Disable']"}],ref:"popover-"+e.$index,attrs:{placement:"top",width:"200"}},[a("p",{staticStyle:{"line-height":"40px"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255,153,0)"}}),t._v(" 确定启用吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.$refs["popover-"+e.$index].doClose()}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editDisable(e)}}},[t._v("确定")])],1),a("el-button",{staticClass:"el-button--success",staticStyle:{width:"50px"},attrs:{slot:"reference",type:"text",icon:"el-icon-unlock",size:"mini"},slot:"reference"},[t._v("启用")])],1):t._e()]}}])})],1),a("pagination",{attrs:{limit:t.searchData.limit,page:t.searchData.page,total:t.total,"page-sizes":t.pageSizes},on:{"update:limit":function(e){return t.$set(t.searchData,"limit",e)},"update:page":function(e){return t.$set(t.searchData,"page",e)},"update:pageSizes":function(e){t.pageSizes=e},"update:page-sizes":function(e){t.pageSizes=e},pagination:t.loadData}})],1)],1),a("el-dialog",{attrs:{"append-to-body":"",top:"5vh","close-on-click-modal":!1,visible:t.formIsshow,title:t.titleContent,width:"1230px"},on:{"update:visible":function(e){t.formIsshow=e}}},[a("el-form",{ref:"formData",attrs:{inline:!0,model:t.formData,rules:t.rules,size:"small","label-width":"100px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{staticStyle:{height:"545px","overflow-y":"auto"},attrs:{label:"基础信息",name:"first"}},[a("el-form-item",{attrs:{label:"货主",prop:"ownerId"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",filterable:""},on:{change:t.cleanGoods},model:{value:t.formData.ownerId,callback:function(e){t.$set(t.formData,"ownerId",e)},expression:"formData.ownerId"}},t._l(t.owners,(function(t){return a("el-option",{key:t.ownerId,attrs:{label:t.ownerName,value:t.ownerId}})})),1)],1),a("el-form-item",{attrs:{label:"逻辑仓库",prop:"logicwarehouseId"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.formData.logicwarehouseId,callback:function(e){t.$set(t.formData,"logicwarehouseId",e)},expression:"formData.logicwarehouseId"}},t._l(t.logicwarehouses,(function(t){return a("el-option",{key:t.logicwarehouseId,attrs:{label:t.logicwarehouseName,value:t.logicwarehouseId}})})),1)],1),a("el-form-item",{attrs:{label:"商品分类",prop:"familyId"}},[a("el-cascader",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",options:t.families,clearable:"",filterable:""},on:{change:t.setFamilyId},model:{value:t.familyIdArr,callback:function(e){t.familyIdArr=e},expression:"familyIdArr"}})],1),a("el-form-item",{attrs:{label:"规格",prop:"specsId"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.formData.specsId,callback:function(e){t.$set(t.formData,"specsId",e)},expression:"formData.specsId"}},t._l(t.specs,(function(t){return a("el-option",{key:t.specsId,attrs:{label:t.specsName,value:t.specsId}})})),1)],1),a("el-form-item",{attrs:{label:"商品编码",prop:"itemCode"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入商品编码"},model:{value:t.formData.itemCode,callback:function(e){t.$set(t.formData,"itemCode",e)},expression:"formData.itemCode"}})],1),a("el-form-item",{attrs:{label:"商品编号",prop:"itemId"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入商品编号"},model:{value:t.formData.itemId,callback:function(e){t.$set(t.formData,"itemId",e)},expression:"formData.itemId"}})],1),a("el-form-item",{attrs:{label:"货号",prop:"goodsCode"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入货号"},model:{value:t.formData.goodsCode,callback:function(e){t.$set(t.formData,"goodsCode",e)},expression:"formData.goodsCode"}})],1),a("el-form-item",{attrs:{label:"商品名称",prop:"itemName"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入商品名称"},model:{value:t.formData.itemName,callback:function(e){t.$set(t.formData,"itemName",e)},expression:"formData.itemName"}})],1),a("el-form-item",{attrs:{label:"商品简称",prop:"shortName"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入商品简称"},model:{value:t.formData.shortName,callback:function(e){t.$set(t.formData,"shortName",e)},expression:"formData.shortName"}})],1),a("el-form-item",{attrs:{label:"英文名",prop:"englishName"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入英文名"},model:{value:t.formData.englishName,callback:function(e){t.$set(t.formData,"englishName",e)},expression:"formData.englishName"}})],1),a("el-form-item",{attrs:{label:"条形码",prop:"barCode"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入条形码"},model:{value:t.formData.barCode,callback:function(e){t.$set(t.formData,"barCode",e)},expression:"formData.barCode"}})],1),a("el-form-item",{attrs:{label:"计量单位",prop:"stockUnit"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.formData.stockUnit,callback:function(e){t.$set(t.formData,"stockUnit",e)},expression:"formData.stockUnit"}},[a("el-option",{attrs:{value:"件",label:"件"}}),a("el-option",{attrs:{value:"箱",label:"箱"}}),a("el-option",{attrs:{value:"个",label:"个"}}),a("el-option",{attrs:{value:"瓶",label:"瓶"}}),a("el-option",{attrs:{value:"桶",label:"桶"}}),a("el-option",{attrs:{value:"提",label:"提"}}),a("el-option",{attrs:{value:"套",label:"套"}}),a("el-option",{attrs:{value:"包",label:"包"}}),a("el-option",{attrs:{value:"台",label:"台"}}),a("el-option",{attrs:{value:"袋",label:"袋"}}),a("el-option",{attrs:{value:"组",label:"组"}}),a("el-option",{attrs:{value:"罐",label:"罐"}})],1)],1),a("el-form-item",{attrs:{label:"长 (厘米)",prop:"length"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入长 (厘米)"},model:{value:t.formData.length,callback:function(e){t.$set(t.formData,"length",e)},expression:"formData.length"}})],1),a("el-form-item",{attrs:{label:"宽 (厘米)",prop:"width"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入宽 (厘米)"},model:{value:t.formData.width,callback:function(e){t.$set(t.formData,"width",e)},expression:"formData.width"}})],1),a("el-form-item",{attrs:{label:"高 (厘米)",prop:"height"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入高 (厘米)"},model:{value:t.formData.height,callback:function(e){t.$set(t.formData,"height",e)},expression:"formData.height"}})],1),a("el-form-item",{attrs:{label:"体积 (CM³)",prop:"volume"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入体积 (CM³)"},model:{value:t.formData.volume,callback:function(e){t.$set(t.formData,"volume",e)},expression:"formData.volume"}})],1),a("el-form-item",{attrs:{label:"毛重 (千克)",prop:"grossWeight"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入毛重 (千克)"},model:{value:t.formData.grossWeight,callback:function(e){t.$set(t.formData,"grossWeight",e)},expression:"formData.grossWeight"}})],1),a("el-form-item",{attrs:{label:"净重 (千克)",prop:"netWeight"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入净重 (千克)"},model:{value:t.formData.netWeight,callback:function(e){t.$set(t.formData,"netWeight",e)},expression:"formData.netWeight"}})],1),a("el-form-item",{attrs:{label:"商品标题",prop:"title"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入商品标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"商品类别",prop:"className"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.className,callback:function(e){t.$set(t.formData,"className",e)},expression:"formData.className"}},[a("el-option",{attrs:{value:"A类",label:"A类"}}),a("el-option",{attrs:{value:"B类",label:"B类"}}),a("el-option",{attrs:{value:"C类",label:"C类"}})],1)],1),a("el-form-item",{attrs:{label:"商品类型",prop:"itemType"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.formData.itemType,callback:function(e){t.$set(t.formData,"itemType",e)},expression:"formData.itemType"}},[a("el-option",{attrs:{value:"ZC",label:"正常商品"}}),a("el-option",{attrs:{value:"FX",label:"分销商品"}}),a("el-option",{attrs:{value:"ZH",label:"组合商品"}}),a("el-option",{attrs:{value:"ZP",label:"赠品"}}),a("el-option",{attrs:{value:"BC",label:"包材"}}),a("el-option",{attrs:{value:"HC",label:"耗材"}}),a("el-option",{attrs:{value:"FL",label:"辅料"}}),a("el-option",{attrs:{value:"XN",label:"虚拟品"}}),a("el-option",{attrs:{value:"FS",label:"附属品"}}),a("el-option",{attrs:{value:"CC",label:"残次品"}}),a("el-option",{attrs:{value:"OTHER",label:"其它"}})],1)],1),a("el-form-item",{attrs:{label:"组套类型",prop:"suiteType"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.suiteType,callback:function(e){t.$set(t.formData,"suiteType",e)},expression:"formData.suiteType"}},[a("el-option",{attrs:{value:"虚拟组套",label:"虚拟组套"}})],1)],1),a("el-form-item",{attrs:{label:"效期管理",prop:"isShelfLifeMgmt"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.isShelfLifeMgmt,callback:function(e){t.$set(t.formData,"isShelfLifeMgmt",e)},expression:"formData.isShelfLifeMgmt"}},[a("el-option",{attrs:{value:"Y",label:"Y"}}),a("el-option",{attrs:{value:"N",label:"N"}})],1)],1),a("el-form-item",{attrs:{label:"抛货",prop:"isThrow"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.isThrow,callback:function(e){t.$set(t.formData,"isThrow",e)},expression:"formData.isThrow"}},[a("el-option",{attrs:{value:"Y",label:"Y"}}),a("el-option",{attrs:{value:"N",label:"N"}})],1)],1),a("el-form-item",{attrs:{label:"货品标记",prop:"marks"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择",filterable:"",clearable:"",multiple:"","collapse-tags":""},model:{value:t.formData.marks,callback:function(e){t.$set(t.formData,"marks",e)},expression:"formData.marks"}},t._l(t.marks,(function(t){return a("el-option",{key:t.markId,attrs:{label:t.markName,value:t.markId}})})),1)],1),a("el-form-item",{attrs:{label:"货品说明",prop:"explains"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入货品说明"},model:{value:t.formData.explains,callback:function(e){t.$set(t.formData,"explains",e)},expression:"formData.explains"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入备注"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),a("el-form-item",{attrs:{label:"是否有效",prop:"isValid"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.isValid,callback:function(e){t.$set(t.formData,"isValid",e)},expression:"formData.isValid"}},[a("el-option",{attrs:{value:"Y",label:"Y"}}),a("el-option",{attrs:{value:"N",label:"N"}})],1)],1),a("el-form-item",{attrs:{label:"是否sku",prop:"isSku"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.isSku,callback:function(e){t.$set(t.formData,"isSku",e)},expression:"formData.isSku"}},[a("el-option",{attrs:{value:"Y",label:"Y"}}),a("el-option",{attrs:{value:"N",label:"N"}})],1)],1),a("el-form-item",{attrs:{label:"允许拆分",prop:"allowSplit"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.allowSplit,callback:function(e){t.$set(t.formData,"allowSplit",e)},expression:"formData.allowSplit"}},[a("el-option",{attrs:{value:"是",label:"是"}}),a("el-option",{attrs:{value:"否",label:"否"}})],1)],1),a("el-form-item",{attrs:{label:"允许店配",prop:"allowSite"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.allowSite,callback:function(e){t.$set(t.formData,"allowSite",e)},expression:"formData.allowSite"}},[a("el-option",{attrs:{value:"是",label:"是"}}),a("el-option",{attrs:{value:"否",label:"否"}})],1)],1),a("el-form-item",{attrs:{label:"允许仓配",prop:"allowWarehouse"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.formData.allowWarehouse,callback:function(e){t.$set(t.formData,"allowWarehouse",e)},expression:"formData.allowWarehouse"}},[a("el-option",{attrs:{value:"是",label:"是"}}),a("el-option",{attrs:{value:"否",label:"否"}})],1)],1)],1),a("el-tab-pane",{staticStyle:{height:"545px","overflow-y":"auto"},attrs:{label:"图片上传",name:"second"}},[a("el-form-item",{staticStyle:{"margin-left":"50px","text-align":"center"}},[a("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("主")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/xnkj/goods/goodssuite/uploadImg",data:{imgType:"主",accessToken:t.searchData.accessToken},"show-file-list":!1,multiple:!1,"on-success":t.handleAvatarSuccess}},[t.imageMain.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageMain.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t.imageMain.imgUrl?a("i",{staticClass:"el-icon-error",on:{click:function(e){return t.delImg("imageMain")}}}):t._e()],1),a("el-form-item",{staticStyle:{"margin-left":"50px","text-align":"center"}},[a("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("上")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/xnkj/goods/goodssuite/uploadImg",data:{imgType:"上",accessToken:t.searchData.accessToken},"show-file-list":!1,multiple:!1,"on-success":t.handleAvatarSuccess}},[t.imageTop.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageTop.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t.imageTop.imgUrl?a("i",{staticClass:"el-icon-error",on:{click:function(e){return t.delImg("imageTop")}}}):t._e()],1),a("el-form-item",{staticStyle:{"margin-left":"50px","text-align":"center"}},[a("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("下")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/xnkj/goods/goodssuite/uploadImg",data:{imgType:"下",accessToken:t.searchData.accessToken},"show-file-list":!1,multiple:!1,"on-success":t.handleAvatarSuccess}},[t.imageBottom.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageBottom.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t.imageBottom.imgUrl?a("i",{staticClass:"el-icon-error",on:{click:function(e){return t.delImg("imageBottom")}}}):t._e()],1),a("el-form-item",{staticStyle:{"margin-left":"50px","text-align":"center"}},[a("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("左")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/xnkj/goods/goodssuite/uploadImg",data:{imgType:"左",accessToken:t.searchData.accessToken},"show-file-list":!1,multiple:!1,"on-success":t.handleAvatarSuccess}},[t.imageLeft.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageLeft.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t.imageLeft.imgUrl?a("i",{staticClass:"el-icon-error",on:{click:function(e){return t.delImg("imageLeft")}}}):t._e()],1),a("el-form-item",{staticStyle:{"margin-left":"50px","text-align":"center"}},[a("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("右")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/xnkj/goods/goodssuite/uploadImg",data:{imgType:"右",accessToken:t.searchData.accessToken},"show-file-list":!1,multiple:!1,"on-success":t.handleAvatarSuccess}},[t.imageRight.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageRight.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t.imageRight.imgUrl?a("i",{staticClass:"el-icon-error",on:{click:function(e){return t.delImg("imageRight")}}}):t._e()],1)],1),a("el-tab-pane",{staticStyle:{height:"545px","overflow-y":"auto"},attrs:{label:"组合商品",name:"three"}},[a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",placeholder:"输入搜索内容"},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}),a("el-select",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{placeholder:"请选择品牌",filterable:"",clearable:""},model:{value:t.goodSeach.brandId,callback:function(e){t.$set(t.goodSeach,"brandId",e)},expression:"goodSeach.brandId"}},t._l(t.brands,(function(t){return a("el-option",{key:t.brandId,attrs:{label:t.brandName,value:t.brandId}})})),1),a("el-cascader",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{placeholder:"请选择商品分类",options:t.families,clearable:"",filterable:""},on:{change:t.setGoodFamilyId},model:{value:t.goodSeach.familyIdArr,callback:function(e){t.$set(t.goodSeach,"familyIdArr",e)},expression:"goodSeach.familyIdArr"}}),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:t.getGoods}},[t._v("搜索")]),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.addAllGoods}},[t._v("批量添加")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.goodSeachData,border:"",height:"200"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"itemName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"itemCode",label:"商品编码"}}),a("el-table-column",{attrs:{prop:"barCode",label:"条形码"}}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌"}}),a("el-table-column",{attrs:{prop:"familyName",label:"分类"}}),a("el-table-column",{attrs:{label:"数量",align:"center",width:"105"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.row.goodsQty,callback:function(a){t.$set(e.row,"goodsQty",a)},expression:"scope.row.goodsQty"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return t.addGoods(e.row)}}},[t._v("添加")])]}}])})],1),a("div",{staticStyle:{"margin-top":"20px",color:"red"}},[t._v("已选商品")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodData,border:"",height:"250"}},[a("el-table-column",{attrs:{prop:"itemName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"itemCode",label:"商品编码"}}),a("el-table-column",{attrs:{prop:"barCode",label:"条形码"}}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌"}}),a("el-table-column",{attrs:{prop:"familyName",label:"分类"}}),a("el-table-column",{attrs:{label:"数量",align:"center",width:"105"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入"},on:{input:t.getWeight},model:{value:e.row.goodsQty,callback:function(a){t.$set(e.row,"goodsQty",a)},expression:"scope.row.goodsQty"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.addDel(e.$index)}}},[t._v("删除")])]}}])})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.formIsshow=!1}}},[t._v("取消")]),a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.addForm,expression:"addForm"}],attrs:{type:"primary"}},[t._v("确认")])],1)],1),a("el-dialog",{attrs:{title:"组合商品明细",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.gridData}},[a("el-table-column",{attrs:{prop:"itemName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"itemCode",label:"商品编码"}}),a("el-table-column",{attrs:{prop:"barCode",label:"条形码"}}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌"}}),a("el-table-column",{attrs:{prop:"familyName",label:"分类"}}),a("el-table-column",{attrs:{label:"数量",prop:"goodsQty"}})],1)],1)],1)},l=[],i=a("ef15"),s=i["a"],r=(a("7888"),a("2877")),n=Object(r["a"])(s,o,l,!1,null,"775b531f",null);e["default"]=n.exports},ef15:function(t,e,a){"use strict";(function(t){a("c740"),a("14d9"),a("a434"),a("e9c4"),a("b64b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var o=a("8a52");e["a"]={name:"Goodssuite",data:function(){return{rules:{itemCode:[{required:!0,message:"请输入商品编码",trigger:"blur"}],itemId:[{required:!0,message:"请输入商品编号",trigger:"blur"}],itemName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],barCode:[{required:!0,message:"请输入商品条码",trigger:"blur"}],ownerId:[{required:!0,message:"请选择",trigger:"change"}],suiteType:[{required:!0,message:"请选择",trigger:"change"}],className:[{required:!0,message:"请选择",trigger:"change"}]},searchData:{itemCode:"",itemName:"",limit:20,page:1,accessToken:sessionStorage.getItem("xn_token")},pageSizes:[20,50,100],dataList:[],total:0,loading:!1,formIsshow:!1,formData:{id:"",ownerId:"",supplierId:"",logicwarehouseId:"",brandId:"",familyId:"",specsId:"",itemCode:"",itemId:"",goodsCode:"",itemName:"",shortName:"",englishName:"",barCode:"",stockUnit:"",length:"",width:"",height:"",volume:"",grossWeight:"",netWeight:"",color:"",size:"",title:"",pricingCategory:"",safetyStock:"",itemType:"",tagPrice:"",retailPrice:"",costPrice:"",purchasePrice:"",isSNMgmt:"N",isShelfLifeMgmt:"Y",shelfLifeUnit:"",shelfLife:"",rejectLifecycle:"",lockupLifecycle:"",adventLifecycle:"",isBatchMgmt:"",packCode:"",originAddress:"",isFragile:"N",isHazardous:"N",isLiquid:"N",remark:"",isValid:"N",marks:[],explains:"",minIndent:"",purchaseCycle:"",minPurchase:"",isSku:"N",allowSplit:"否",allowSite:"否",allowWarehouse:"否",imgId:[],suitedetails:[],suiteType:"",isThrow:"N",className:"",accessToken:sessionStorage.getItem("xn_token")},jsHeight:500,editStatus:!1,titleContent:"管理商品",owners:[],brands:[],families:[],specs:[],marks:[],suppliers:[],logicwarehouses:[],familyIdArr:[],activeName:"first",imageMain:{imgId:"",imgUrl:""},imageTop:{imgId:"",imgUrl:""},imageBottom:{imgId:"",imgUrl:""},imageRight:{imgId:"",imgUrl:""},imageLeft:{imgId:"",imgUrl:""},searchStr:"",goodData:[],goodSeachData:[],dialogTableVisible:!1,gridData:[],goodSeach:{brandId:"",familyIdArr:[],familyId:""},ids:[]}},mounted:function(){this.loadData()},activated:function(){var t=this;this.$nextTick((function(){t.$refs.plTable.doLayout()}))},methods:{loadData:function(){var e=this;this.loading=!0,Object(o["f"])(this.searchData).then((function(a){a&&(e.loading=!1,e.dataList=a.msgData.list.items,e.total=a.msgData.list.total,e.brands=a.msgData.brands,e.families=a.msgData.families,e.owners=a.msgData.owners,e.specs=a.msgData.specs,e.suppliers=a.msgData.suppliers,e.marks=a.msgData.marks,e.logicwarehouses=a.msgData.logicwarehouses,e.jsHeight=window.innerHeight-t(".head-container").outerHeight()-t(".crud-opts").outerHeight()-180)}))},search:function(){this.page=1,this.loadData()},handleSelectionChange:function(t){this.ids=[];for(var e=0;e<t.length;e++)this.ids.push(t[e])},addShow:function(){for(var t in this.editStatus=!1,void 0!==this.$refs["formData"]&&this.$refs["formData"].resetFields(),this.formData)"accessToken"!=t&&"allowSplit"!=t&&"allowSite"!=t&&"allowWarehouse"!=t&&"imgId"!=t&&"marks"!=t&&(this.formData[t]=""),"allowSplit"!=t&&"allowSite"!=t&&"allowWarehouse"!=t||(this.formData[t]="否");this.formData.suiteType="虚拟组套",this.formData.isValid="N",this.formData.isSku="N",this.formData.isThrow="N",this.formData.isShelfLifeMgmt="Y",this.formData.imgId=[],this.formData.marks=[],this.formData.suitedetails=[],this.imageMain.imgId="",this.imageMain.imgUrl="",this.imageTop.imgId="",this.imageTop.imgUrl="",this.imageBottom.imgId="",this.imageBottom.imgUrl="",this.imageRight.imgId="",this.imageRight.imgUrl="",this.imageLeft.imgId="",this.imageLeft.imgUrl="",this.activeName="first",this.familyIdArr=[],this.goodData=[],this.goodSeachData=[],this.goodSeach.brandId="",this.goodSeach.familyIdArr=[],this.goodSeach.familyId="",this.ids=[],this.searchStr="",this.formIsshow=!0},addForm:function(){var t=this;this.$refs["formData"].validate((function(e){if(!e)return!1;var a=t,l=[];""!=a.imageMain.imgId&&l.push(a.imageMain.imgId),""!=a.imageTop.imgId&&l.push(a.imageTop.imgId),""!=a.imageBottom.imgId&&l.push(a.imageBottom.imgId),""!=a.imageRight.imgId&&l.push(a.imageRight.imgId),""!=a.imageLeft.imgId&&l.push(a.imageLeft.imgId),a.formData.imgId=l,a.goodData.length<1?t.$modal.notifyWarning("请选择组合商品!"):(a.formData.suitedetails=a.goodData,a.editStatus?Object(o["c"])(a.formData).then((function(t){t&&(a.formIsshow=!1,a.$modal.notifySuccess(t.errMsg),a.loadData())})):Object(o["a"])(a.formData).then((function(t){t&&(a.formIsshow=!1,a.$modal.notifySuccess(t.errMsg),a.loadData())})))}))},editStaff:function(t){var e=this;for(var a in void 0!==this.$refs["formData"]&&this.$refs["formData"].resetFields(),this.formData)"accessToken"!=a&&(this.formData[a]=t[a]);this.imageMain.imgId="",this.imageMain.imgUrl="",this.imageTop.imgId="",this.imageTop.imgUrl="",this.imageBottom.imgId="",this.imageBottom.imgUrl="",this.imageRight.imgId="",this.imageRight.imgUrl="",this.imageLeft.imgId="",this.imageLeft.imgUrl="";for(var l=0;l<t.images.length;l++)"主"==t.images[l].imgType&&(this.imageMain.imgId=t.images[l].imgId,this.imageMain.imgUrl=t.images[l].imgUrl),"上"==t.images[l].imgType&&(this.imageTop.imgId=t.images[l].imgId,this.imageTop.imgUrl=t.images[l].imgUrl),"下"==t.images[l].imgType&&(this.imageBottom.imgId=t.images[l].imgId,this.imageBottom.imgUrl=t.images[l].imgUrl),"右"==t.images[l].imgType&&(this.imageRight.imgId=t.images[l].imgId,this.imageRight.imgUrl=t.images[l].imgUrl),"左"==t.images[l].imgType&&(this.imageLeft.imgId=t.images[l].imgId,this.imageLeft.imgUrl=t.images[l].imgUrl);this.activeName="first",this.familyIdArr=t.families,this.goodSeachData=[],this.searchStr="",this.goodSeach.brandId="",this.goodSeach.familyIdArr=[],this.goodSeach.familyId="";var i={accessToken:sessionStorage.getItem("xn_token"),goodsPid:t.id};Object(o["g"])(i).then((function(t){t&&(e.goodData=t.msgData.suitedetails,e.editStatus=!0,e.formIsshow=!0)}))},uploadSuccess:function(t){var e=this;this.loading=!0;var a=new FormData;a.append("file",t.file),a.append("accessToken",sessionStorage.getItem("xn_token")),Object(o["h"])(a).then((function(t){e.loading=!1,t&&(e.$modal.notifySuccess(t.errMsg),void 0!==t.msgData.downloadUrl&&""!==t.msgData.downloadUrl&&(window.location.href=t.msgData.downloadUrl),e.loadData())}))},downMyOrder:function(){var t=this;this.loading=!0,Object(o["d"])(this.searchData).then((function(e){t.loading=!1,e&&(t.$modal.notifySuccess(e.errMsg),void 0!==e.msgData.downloadUrl&&""!==e.msgData.downloadUrl&&(window.location.href=e.msgData.downloadUrl),t.loadData())}))},editDisable:function(t){var e=this;this.$refs["popover-".concat(t.$index)].doClose();var a={id:t.row.id,accessToken:sessionStorage.getItem("xn_token")};Object(o["b"])(a).then((function(t){t&&(e.$modal.notifySuccess(t.errMsg),e.loadData())}))},setFamilyId:function(t){this.formData.familyId=t[1]},setGoodFamilyId:function(t){this.goodSeach.familyId=t[1]},handleAvatarSuccess:function(t,e){"主"==t.msgData.imgType&&(this.imageMain.imgUrl=URL.createObjectURL(e.raw),this.imageMain.imgId=t.msgData.imgId),"上"==t.msgData.imgType&&(this.imageTop.imgUrl=URL.createObjectURL(e.raw),this.imageTop.imgId=t.msgData.imgId),"下"==t.msgData.imgType&&(this.imageBottom.imgUrl=URL.createObjectURL(e.raw),this.imageBottom.imgId=t.msgData.imgId),"右"==t.msgData.imgType&&(this.imageRight.imgUrl=URL.createObjectURL(e.raw),this.imageRight.imgId=t.msgData.imgId),"左"==t.msgData.imgType&&(this.imageLeft.imgUrl=URL.createObjectURL(e.raw),this.imageLeft.imgId=t.msgData.imgId)},addGoods:function(t){-1!==this.goodData.findIndex((function(e){return e.goodsId===t.goodsId}))?this.$modal.notifyWarning("商品已添加!"):(this.goodData.push(JSON.parse(JSON.stringify(t))),this.getWeight())},addAllGoods:function(){var t=this;if(this.ids.length<1)this.$modal.notifyWarning("请选择要操作数据！");else{for(var e=function(e){-1===t.goodData.findIndex((function(a){return a.goodsId===t.ids[e].goodsId}))&&t.goodData.push(JSON.parse(JSON.stringify(t.ids[e])))},a=0;a<this.ids.length;a++)e(a);this.getWeight()}},addDel:function(t){this.goodData.splice(t,1),this.getWeight()},getGoods:function(){var t=this;if(""!=this.formData.ownerId){var e={accessToken:sessionStorage.getItem("xn_token"),ownerId:this.formData.ownerId,searchStr:this.searchStr,brandId:this.goodSeach.brandId,familyId:this.goodSeach.familyId};Object(o["e"])(e).then((function(e){if(e){t.goodSeachData=[];for(var a=0;a<e.msgData.goods.length;a++)t.goodSeachData.push(Object.assign({},e.msgData.goods[a],{goodsQty:1}))}}))}else this.$modal.notifyWarning("请选择货主!")},delImg:function(t){this[t].imgUrl="",this[t].imgId=""},cleanGoods:function(){this.goodData=[],this.goodSeachData=[],this.searchStr=""},getSuitedetail:function(t){var e=this,a={accessToken:sessionStorage.getItem("xn_token"),goodsPid:t.id};Object(o["g"])(a).then((function(t){t&&(e.dialogTableVisible=!0,e.gridData=t.msgData.suitedetails)}))},getWeight:function(){for(var t=0,e=0,a=0;a<this.goodData.length;a++)t+=this.goodData[a].grossWeight*this.goodData[a].goodsQty,e+=this.goodData[a].grossWeight*this.goodData[a].goodsQty;this.formData.grossWeight=t,this.formData.netWeight=e}}}}).call(this,a("1157"))}}]);